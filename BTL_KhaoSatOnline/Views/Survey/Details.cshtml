@model Survey

<div class="survey-detail">
    <h2>@Model.Title</h2>
    <p class="description">@Model.Description</p>

    <div class="survey-actions mb-3">
        <a asp-action="Publish" asp-route-id="@Model.SurveyId" class="btn btn-success">XUẤT BẢN</a>
    </div>

    <div class="questions-section">
        <h3>CÂU HỎI</h3>

        @foreach (var question in Model.Questions)
        {
            <div class="question-item card mb-3">
                <div class="card-body">
                    <h4 class="card-title">@question.QuestionText</h4>
                    <p class="card-text">Loại: @question.QuestionType | Bắt buộc: @(question.IsRequired ? "Có" : "Không")</p>

                    @if (question.QuestionType == "MultipleChoice" || question.QuestionType == "SingleChoice")
                    {
                        <div class="options">
                            @foreach (var option in question.Options)
                            {
                                <div class="form-check">
                                    <input class="form-check-input" type="@(question.QuestionType == "SingleChoice" ? "radio" : "checkbox")"
                                           name="question_@question.QuestionId" id="option_@option.OptionId">
                                    <label class="form-check-label" for="option_@option.OptionId">
                                        @option.OptionText
                                    </label>
                                </div>
                            }
                        </div>
                    }
                </div>
            </div>
        }

        <a asp-action="AddQuestion" asp-route-surveyId="@Model.SurveyId" class="btn btn-primary">Thêm câu hỏi</a>
    </div>
</div>

@section Styles {
    <style>
        .survey-detail {
            padding: 20px;
        }

        .question-item {
            margin-bottom: 15px;
        }
    </style>
}